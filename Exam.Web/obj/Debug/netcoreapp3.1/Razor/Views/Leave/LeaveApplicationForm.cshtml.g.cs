#pragma checksum "C:\Users\sushanta.senapati\Desktop\web Api\ThirdMonthExam\Exam.Web\Views\Leave\LeaveApplicationForm.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "a7f9895f000ae7fee10a6a20406d5be7de4829fa"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Leave_LeaveApplicationForm), @"mvc.1.0.view", @"/Views/Leave/LeaveApplicationForm.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\sushanta.senapati\Desktop\web Api\ThirdMonthExam\Exam.Web\Views\_ViewImports.cshtml"
using Exam.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\sushanta.senapati\Desktop\web Api\ThirdMonthExam\Exam.Web\Views\_ViewImports.cshtml"
using Exam.Web.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"a7f9895f000ae7fee10a6a20406d5be7de4829fa", @"/Views/Leave/LeaveApplicationForm.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"c80dac61a8d7dc27969faff32e42edc31be5502e", @"/Views/_ViewImports.cshtml")]
    public class Views_Leave_LeaveApplicationForm : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<dynamic>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("id", new global::Microsoft.AspNetCore.Html.HtmlString("Leave_Type"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("class", new global::Microsoft.AspNetCore.Html.HtmlString("form-control"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_2 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("onchange", new global::Microsoft.AspNetCore.Html.HtmlString("hidedoc()"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_3 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("style", new global::Microsoft.AspNetCore.Html.HtmlString("background-color:darkslategrey"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_4 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/lib/jquery/dist/jquery.min.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_5 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/validation/validation.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper;
        private global::Microsoft.AspNetCore.Mvc.TagHelpers.SelectTagHelper __Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper;
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n\r\n\r\n");
#nullable restore
#line 4 "C:\Users\sushanta.senapati\Desktop\web Api\ThirdMonthExam\Exam.Web\Views\Leave\LeaveApplicationForm.cshtml"
  
    ViewData["Title"] = "AddDoctor";



   

#line default
#line hidden
#nullable disable
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("body", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "a7f9895f000ae7fee10a6a20406d5be7de4829fa5876", async() => {
                WriteLiteral(@"
    <div class=""page-title"">
        <div class=""title-details"">
            <nav aria-label=""breadcrumb"">
                <ol class=""breadcrumb p-0 mb-0 bg-transparent"" id=""navigation"">
                </ol>
            </nav>
        </div>
    </div>
    <div class=""row"">
        <div class=""col-md-12 col-sm-12"">
            <div class=""card"">
                <div class=""card-header"" style=""color:red"">

                    <div class=""indicatorslist"">
                        <a");
                BeginWriteAttribute("title", " title=\"", 608, "\"", 616, 0);
                EndWriteAttribute();
                WriteLiteral(@" href=""javascript:void(0)"" id=""backIcon"" data-toggle=""tooltip"" data-placement=""top"" data-original-title=""Back""><i class=""icon-arrow-left1""></i></a>
                        <center style=""color: ; background-color:darkslateblue ""><u><h2>Leave Application Form</h2></u></center>
                    </div>
                </div>
");
                WriteLiteral(@"
                <!-- BASIC FORM ELEMENTS -->
                <!--===================================================-->
                <div class=""card-body"" style=""background-color:aquamarine"">

                    <div class=""row"">
                        <div class=""col-12 col-md-6 col-xl-4"">
                            <label class=""control-label"">Emp Code</label>
                            <input id=""Emp_Code"" class=""form-control"" onblur=""myFunction()"" />


                        </div>
                        <div class=""col-12 col-md-6 col-xl-4"">
                            <label class=""control-label"">Emp Name</label>
                            <input id=""Emp_nam"" class=""form-control"" readonly />


                        </div>
                        <div class=""col-12 col-md-6 col-xl-4"">
                            <label class=""control-label"">Designation</label>
                            <input id=""Emp_desig"" class=""form-control"" readonly />

                        </");
                WriteLiteral("div>\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                        <div class=\"form-group col-md-6\">\r\n                            <label class=\"control-label\">Leave Type</label>\r\n                            ");
                __tagHelperExecutionContext = __tagHelperScopeManager.Begin("select", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "a7f9895f000ae7fee10a6a20406d5be7de4829fa8536", async() => {
                    WriteLiteral("\r\n                            ");
                }
                );
                __Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.TagHelpers.SelectTagHelper>();
                __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
                __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_2);
#nullable restore
#line 59 "C:\Users\sushanta.senapati\Desktop\web Api\ThirdMonthExam\Exam.Web\Views\Leave\LeaveApplicationForm.cshtml"
__Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper.Items = (new SelectList(ViewBag.LeaveType,"id","Leave_Type"));

#line default
#line hidden
#nullable disable
                __tagHelperExecutionContext.AddTagHelperAttribute("asp-items", __Microsoft_AspNetCore_Mvc_TagHelpers_SelectTagHelper.Items, global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
                await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
                if (!__tagHelperExecutionContext.Output.IsContentModified)
                {
                    await __tagHelperExecutionContext.SetOutputContentAsync();
                }
                Write(__tagHelperExecutionContext.Output);
                __tagHelperExecutionContext = __tagHelperScopeManager.End();
                WriteLiteral(@"

                        </div>

                        <div class=""form-group col-md-6"" style=""display:none"" id=""doc"">
                            <label class=""control-label"">Document</label>
                            <input id=""Documents"" type=""file"" class=""form-control"" />
                            <span id=""lblError"" style=""color:red""></span>
                        </div>


                    </div>

                    <div class=""row"">
                        <div class=""form-group col-md-5"">
                            <label class=""control-label"">From Date</label>
                            <input id=""FROM_DATE"" class=""form-control "" type=""date"" />

                        </div>

                        <div class=""form-group col-md-5"">
                            <label class=""control-label"">To date</label>
                            <input id=""TO_DATE"" class=""form-control "" type=""date"" onblur=""findDay()"" />
                        </div>
                        <d");
                WriteLiteral(@"iv class=""form-group col-md-2"">

                            <label id=""daycount"" style=""margin-top:35px""></label>

                        </div>
                    </div>
                    <div class=""row"">
                        <div class=""form-group col-md-6"">
                            <label class=""control-label"">Reason</label>
                            <textarea class=""form-control"" id=""Reason""></textarea>

                        </div>
                        <div class=""form-group col-md-6"">
                            <label class=""control-label""></label>
                            <table border=""1"" style=""border: 1px solid"">
                                <tr style=""text-align:center"">
                                    <th style=""height: 25px; width: 150px;"" colspan=""2"">EmploYee Leave Status</th>

                                </tr>
                                <tr style=""text-align:left"">
                                    <th style=""height: 25px; width: 150p");
                WriteLiteral(@"x"">ML</th>
                                    <th style=""height: 25px; width: 150px "">CL</th>
                                </tr>
                                <tr style=""text-align:left"">
                                    <td style=""height: 25px; width: 150px""><span id=""ml""></span></td>
                                    <td style=""height: 25px; width: 150px ""><span id=""cl""></span></td>
                                </tr>
                            </table>

                        </div>
                        <div class=""form-group col-md-12"">
                            <button class=""btn btn-primary mb-1"" id=""btnSubmit"" style=""margin-left: 450px; margin-top: 50px"">Apply</button>
                            <button class=""btn btn-danger mb-1"" id=""btnCancel"" style=""margin-top:50px"">Reset</button>
                        </div>

                    </div>


                </div>

            </div>



        </div>





    </div>

");
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.BodyTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_BodyTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_3);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n\r\n\r\n\r\n\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "a7f9895f000ae7fee10a6a20406d5be7de4829fa14389", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_4);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "a7f9895f000ae7fee10a6a20406d5be7de4829fa15429", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_5);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"

<script>


    function hidedoc() {
        if ($(""#Leave_Type"").val() == 1) {
            $(""#doc"").show();
        }
        else
            $(""#doc"").hide();

    }





    function validate() {

        debugger
        var currentDate = new Date();
        currentDate.setDate(currentDate.getDate() - 16);
        var selectedDate = new Date(Date.parse($('#FROM_DATE').val()));


        var currentDateCasual = new Date();
        currentDateCasual.setDate(currentDateCasual.getDate()-1);



        if ($('#Emp_Code').val() == """") {
            alert(""Please Enter Employee Code !"");
            return false;
            $('#Emp_Code').focus();
        }
       else if ($('#Leave_Type').val() == ""0"") {
            alert(""Please Select Leave Type !"");
            return false;
            $('#Leave_Type').focus();
        }

        else if ($('#Documents').val() == """" && $(""#Leave_Type"").val() == 1) {
            alert(""Please Upload Document"");
                ");
            WriteLiteral(@"return false;
        }
        else if ($('#FROM_DATE').val() == """") {
            alert(""Please Enter FROM_DATE !"");
            return false;
            $('#FROM_DATE').focus();
        }
        else if ($('#TO_DATE').val() == """") {
            alert(""Please Enter ToDate !"");
            $('#TO_DATE').focus();
            return false;
        }
        else if ($('#TO_DATE').val() < $('#FROM_DATE').val()) {
            alert(""To Date Must Be Greater than From Date"");
            $('#TO_DATE').focus();
            return false;
        }
        else if (selectedDate < currentDate && $(""#Leave_Type"").val() == 1) {

            alert(""Medical leave can only be applied for same date or back dates (with in past 15 days from application date"");


            return false;
        }
        else if (selectedDate < currentDateCasual && $(""#Leave_Type"").val() == 2) {

            alert(""casual leaves can only be future dates including application date"");


            return false;");
            WriteLiteral(@"
        }






        else if ($('#Reason').val() == """") {
            alert(""Please Enter Reason !"");
            return false;
            $('#Reason').focus();
        }

        else
            return true;



    }
    function reset() {
        $('#Emp_Code').val("""");
        $(""#FROM_DATE"").val("""");
        $(""#TO_DATE"").val("""");
        $(""#Reason"").val("""");

        $(""#Emp_nam"").val("""");
        $(""#Emp_desig"").val("""");

        $(""#Leave_Type"").val(""0"");

    }
    $(""#btnCancel"").click(function () { reset() });

    function findDay() {

        $(""#daycount"").html('(Apply for '+GetDays()+' Days)');

    }

    function GetDays() {
        var dropdt = new Date(document.getElementById(""TO_DATE"").value);
        var pickdt = new Date(document.getElementById(""FROM_DATE"").value);
        return parseInt((dropdt - pickdt) / (24 * 3600 * 1000))+1;
    }


    $(""#btnSubmit"").click(function () {

        var doc = {
            Emp_Code: $(""#Emp_Code""");
            WriteLiteral(@").val(),
            Emp_nam: $(""#Emp_nam"").val(),
            Emp_desig: $(""#Emp_desig"").val(),
            Leave_Type: $(""#Leave_Type"").val(),
            Documents: $(""#Documents"").val(),
            FROM_DATE: $(""#FROM_DATE"").val(),
            TO_DATE: $(""#TO_DATE"").val(),
            Reason: $(""#Reason"").val(),


        };
        if (validate() == true) {






        $.ajax({
            url: ""/Leave/Add"",
            data: doc,
            type: ""POST"",
            success: function (result) {
                debugger
                if (result == ""Record Saved Successfully"") {
                    alert(result);
                    Upload();
                    window.location.href = ""/Leave/LeaveApplicationForm"";

                }

                else
                    alert(result);

            },
            error: function (errormessage) {
                alert(errormessage.responseText);
            }
        });

         }


    });
    functi");
            WriteLiteral(@"on Upload() {
         if ($('#Documents').val() != '') {
                var files = $('#Documents').prop(""files"");

                //var url = ""Sport/UploadImage"";
                formData = new FormData();
                formData.append(""MyUploader"", files[0]);
                //alert(files[0]);
                jQuery.ajax({
                    type: 'POST',

                    url:  '");
#nullable restore
#line 320 "C:\Users\sushanta.senapati\Desktop\web Api\ThirdMonthExam\Exam.Web\Views\Leave\LeaveApplicationForm.cshtml"
                      Write(Url.Action("UploadImage", "Leave"));

#line default
#line hidden
#nullable disable
            WriteLiteral(@"',
                    data: formData,
                    type: 'POST',
                    cache: false,
                    contentType: false,
                    processData: false,
                    dataType: ""json"",

                    success: function (data) {
                        if (data.status == ""success"") {

                        }
                    },

                });

            }
    }
    var dnam;
    //UPDATE
    function myFunction() {
        debugger
        $.ajax({
            url: ""/Leave/BindEmployee?clubid="" + $('#Emp_Code').val(),
            typr: ""GET"",
            contentType: ""application/json;charset=UTF-8"",
            dataType: ""json"",
            success: function (result) {
                if (result[0] != undefined) {
                    $(""#Emp_nam"").val(result[0].Emp_Name);
                    $(""#Emp_desig"").val(result[0].DesignationName);
                    dnam = result[0].DesignationName;
                    fil_Leave");
            WriteLiteral(@"_Status();
                }
                else
                    alert(""No Record Found"");




            },
            error: function (errormessage) {
                alert(errormessage.responseText);
            }
        });


    }

    function fil_Leave_Status() {

        $.ajax({
            url: ""/Leave/BindleaveStatus?clubid="" + $('#Emp_Code').val(),
            typr: ""GET"",
            contentType: ""application/json;charset=UTF-8"",
            dataType: ""json"",
            success: function (result) {
                debugger

                if (dnam == ""MGR"") {
                    $(""#cl"").html(result[0].restCL + '/' + '12')
                    $(""#ml"").html(result[0].restML + '/' + '12')
                }
                if (dnam == ""SSD"") {
                    $(""#cl"").html(result[0].restCL + '/' + '10')
                    $(""#ml"").html(result[0].restML + '/' + '10')
                }
                if (dnam == ""SD"") {
                    $(""#cl"").h");
            WriteLiteral(@"tml(result[0].restCL + '/' + '8')
                    $(""#ml"").html(result[0].restML + '/' + '8')
                }


                $(""#restML"").val(result[0].restML);
                $(""#restCL"").val(result[0].restCL);



            },
            error: function (errormessage) {
                alert(errormessage.responseText);
            }
        });
    }


    function readURL(input) {
        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                $('#img').attr('src', e.target.result);
            }

            reader.readAsDataURL(input.files[0]);
        }
    }

    $(""#Image"").change(function () {
        readURL(this);
    });



    //DELETE

</script>
");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<dynamic> Html { get; private set; }
    }
}
#pragma warning restore 1591
